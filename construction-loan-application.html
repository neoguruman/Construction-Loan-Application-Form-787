<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Construction Loan Application</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://unpkg.com/feather-icons"></script>
  <style>
    .section {
      display: none;
    }
    .section.active {
      display: block;
    }
    .nav-item.active {
      background-color: #3b82f6;
      color: white;
    }
    .form-field {
      margin-bottom: 1rem;
    }
    .form-label {
      display: block;
      font-size: 0.875rem;
      font-weight: 500;
      color: #374151;
      margin-bottom: 0.5rem;
    }
    .form-input, .form-textarea, .form-select {
      width: 100%;
      padding: 0.75rem 1rem;
      border: 1px solid #d1d5db;
      border-radius: 0.5rem;
      background-color: #fff;
    }
    .form-input:focus, .form-textarea:focus, .form-select:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
      border-color: #3b82f6;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }
    .btn-primary {
      background-color: #3b82f6;
      color: white;
    }
    .btn-primary:hover {
      background-color: #2563eb;
    }
    .btn-secondary {
      background-color: #4b5563;
      color: white;
    }
    .btn-secondary:hover {
      background-color: #374151;
    }
    .btn-success {
      background-color: #10b981;
      color: white;
    }
    .btn-success:hover {
      background-color: #059669;
    }
    .btn-icon {
      margin-right: 0.5rem;
    }
    .radio-group {
      display: flex;
      gap: 1rem;
    }
    .radio-label {
      display: flex;
      align-items: center;
    }
    .radio-input {
      margin-right: 0.5rem;
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen">
  <div class="container mx-auto px-4 py-8">
    <header class="mb-8">
      <h1 class="text-4xl font-bold text-gray-800 mb-2">Construction Loan Application</h1>
      <p class="text-gray-600">Complete your construction project financing application</p>
    </header>

    <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
      <nav class="flex justify-between items-center flex-wrap md:flex-nowrap" id="form-nav">
        <button class="nav-item flex items-center px-4 py-2 rounded-lg my-1 transition-all active" data-section="project">
          <i data-feather="home" class="mr-2"></i>
          <span class="hidden md:inline">Project Info</span>
        </button>
        <div class="w-6 h-0.5 bg-gray-300 hidden md:block"></div>
        <button class="nav-item flex items-center px-4 py-2 rounded-lg my-1 transition-all" data-section="property">
          <i data-feather="map-pin" class="mr-2"></i>
          <span class="hidden md:inline">Property Info</span>
        </button>
        <div class="w-6 h-0.5 bg-gray-300 hidden md:block"></div>
        <button class="nav-item flex items-center px-4 py-2 rounded-lg my-1 transition-all" data-section="borrower">
          <i data-feather="user" class="mr-2"></i>
          <span class="hidden md:inline">Borrower Info</span>
        </button>
        <div class="w-6 h-0.5 bg-gray-300 hidden md:block"></div>
        <button class="nav-item flex items-center px-4 py-2 rounded-lg my-1 transition-all" data-section="employment">
          <i data-feather="briefcase" class="mr-2"></i>
          <span class="hidden md:inline">Employment</span>
        </button>
        <div class="w-6 h-0.5 bg-gray-300 hidden md:block"></div>
        <button class="nav-item flex items-center px-4 py-2 rounded-lg my-1 transition-all" data-section="income">
          <i data-feather="dollar-sign" class="mr-2"></i>
          <span class="hidden md:inline">Income</span>
        </button>
        <div class="w-6 h-0.5 bg-gray-300 hidden md:block"></div>
        <button class="nav-item flex items-center px-4 py-2 rounded-lg my-1 transition-all" data-section="assets">
          <i data-feather="file-text" class="mr-2"></i>
          <span class="hidden md:inline">Assets & Liabilities</span>
        </button>
      </nav>
    </div>

    <div class="bg-white rounded-xl shadow-lg p-8">
      <form id="constructionLoanForm">
        <!-- Project Information Section -->
        <section id="project-section" class="section active">
          <h2 class="text-3xl font-bold text-gray-800 mb-8">Construction Project Information</h2>
          
          <div class="space-y-6">
            <div class="form-field">
              <label class="form-label">1. Description of your construction project?</label>
              <textarea name="projectDescription" class="form-textarea" rows="4" placeholder="Describe your construction project in detail..."></textarea>
            </div>
            
            <div class="form-field">
              <label class="form-label">2. Do you own land?</label>
              <div class="radio-group">
                <label class="radio-label">
                  <input type="radio" name="ownsLand" value="yes" class="radio-input">
                  Yes
                </label>
                <label class="radio-label">
                  <input type="radio" name="ownsLand" value="no" class="radio-input">
                  No
                </label>
              </div>
            </div>
            
            <div class="form-field">
              <label class="form-label">3. Date of land purchase?</label>
              <input type="date" name="landPurchaseDate" class="form-input">
            </div>
            
            <div class="form-field">
              <label class="form-label">4. What is your land balance?</label>
              <input type="text" name="landBalance" class="form-input" placeholder="$0.00">
            </div>
            
            <div class="form-field">
              <label class="form-label">5. What loan amount are you expecting to apply for including the land balance?</label>
              <input type="text" name="expectedLoanAmount" class="form-input" placeholder="$0.00">
            </div>
            
            <div class="form-field">
              <label class="form-label">6. What is your estimated construction cost total?</label>
              <input type="text" name="estimatedConstructionCost" class="form-input" placeholder="$0.00">
            </div>
            
            <div class="form-field">
              <label class="form-label">7. What is your total pre-paid costs to date (i.e., house plans, engineering, grading, permits, etc.)?</label>
              <input type="text" name="prepaidCosts" class="form-input" placeholder="$0.00">
            </div>
            
            <div class="form-field">
              <label class="form-label">8. What is the estimated finished value of your home upon completion?</label>
              <input type="text" name="estimatedFinishedValue" class="form-input" placeholder="$0.00">
            </div>
            
            <div class="form-field">
              <label class="form-label">9. What is your current credit score?</label>
              <select name="creditScore" class="form-select">
                <option value="">Select your credit score range</option>
                <option value="excellent">Excellent (740-850)</option>
                <option value="very-good">Very Good (670-739)</option>
                <option value="good">Good (580-669)</option>
                <option value="fair">Fair (300-579)</option>
                <option value="unknown">I don't know</option>
              </select>
            </div>
          </div>
          
          <div class="flex justify-end mt-8">
            <button type="button" class="btn btn-primary next-btn" data-next="property">
              <span>Next: Property Information</span>
              <i data-feather="arrow-right" class="ml-2"></i>
            </button>
          </div>
        </section>
        
        <!-- Property Information Section -->
        <section id="property-section" class="section">
          <h2 class="text-3xl font-bold text-gray-800 mb-8">Property Information and Purpose of Loan</h2>
          
          <div class="space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="md:col-span-2">
                <label class="form-label">Subject Property Address (street, city, state & ZIP)</label>
                <input type="text" name="propertyAddress" class="form-input" placeholder="Enter complete property address">
              </div>
              <div>
                <label class="form-label">No. of Units</label>
                <input type="number" name="numberOfUnits" class="form-input" placeholder="1">
              </div>
            </div>
            
            <div class="border-t pt-6">
              <h3 class="text-lg font-semibold text-gray-800 mb-4">Complete this line if construction or construction-permanent loan</h3>
              
              <div class="grid grid-cols-1 md:grid-cols-6 gap-4">
                <div>
                  <label class="form-label">Year Lot Acquired</label>
                  <input type="number" name="yearLotAcquired" class="form-input" placeholder="YYYY">
                </div>
                
                <div>
                  <label class="form-label">Original Cost</label>
                  <input type="text" name="originalCost" class="form-input" placeholder="$0.00">
                </div>
                
                <div>
                  <label class="form-label">Amount Existing Liens</label>
                  <input type="text" name="existingLiens" class="form-input" placeholder="$0.00">
                </div>
                
                <div>
                  <label class="form-label">(a) Present Value of Lot</label>
                  <input type="text" name="presentValueLot" class="form-input" placeholder="$0.00">
                </div>
                
                <div>
                  <label class="form-label">(b) Cost of Improvements</label>
                  <input type="text" name="costOfImprovements" class="form-input" placeholder="$0.00">
                </div>
                
                <div>
                  <label class="form-label">Total (a + b)</label>
                  <div id="propertyTotalValue" class="form-input bg-gray-50 text-gray-700">$0.00</div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="flex justify-between mt-8">
            <button type="button" class="btn btn-secondary prev-btn" data-prev="project">
              <i data-feather="arrow-left" class="mr-2"></i>
              <span>Previous</span>
            </button>
            <button type="button" class="btn btn-primary next-btn" data-next="borrower">
              <span>Next: Borrower Information</span>
              <i data-feather="arrow-right" class="ml-2"></i>
            </button>
          </div>
        </section>
        
        <!-- Borrower Information Section -->
        <section id="borrower-section" class="section">
          <h2 class="text-3xl font-bold text-gray-800 mb-8">Borrower Information</h2>
          
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Borrower Column -->
            <div class="space-y-6">
              <h3 class="text-xl font-semibold text-gray-800 border-b pb-2">Borrower</h3>
              
              <div class="form-field">
                <label class="form-label">Borrower's Name (include Jr. or Sr. if applicable)</label>
                <input type="text" name="borrowerName" class="form-input">
              </div>
              
              <div class="form-field">
                <label class="form-label">Home Phone (incl. area code)</label>
                <input type="tel" name="borrowerPhone" class="form-input" placeholder="(XXX) XXX-XXXX">
              </div>
              
              <div class="form-field">
                <label class="form-label">Marital Status</label>
                <div class="radio-group">
                  <label class="radio-label">
                    <input type="radio" name="borrowerMaritalStatus" value="married" class="radio-input">
                    Married
                  </label>
                  <label class="radio-label">
                    <input type="radio" name="borrowerMaritalStatus" value="unmarried" class="radio-input">
                    Unmarried
                  </label>
                  <label class="radio-label">
                    <input type="radio" name="borrowerMaritalStatus" value="separated" class="radio-input">
                    Separated
                  </label>
                </div>
              </div>
              
              <div class="grid grid-cols-2 gap-4">
                <div class="form-field">
                  <label class="form-label">Dependents (not listed by Co-Borrower) - No.</label>
                  <input type="number" name="borrowerDependents" class="form-input">
                </div>
                <div class="form-field">
                  <label class="form-label">Ages</label>
                  <input type="text" name="borrowerDependentAges" class="form-input" placeholder="e.g., 5, 8, 12">
                </div>
              </div>
              
              <div class="form-field">
                <label class="form-label">Present Address (street, city, state, ZIP)</label>
                <textarea name="borrowerPresentAddress" class="form-textarea" rows="2"></textarea>
              </div>
              
              <div class="grid grid-cols-2 gap-4">
                <div class="form-field">
                  <label class="form-label">Own/Rent</label>
                  <div class="radio-group">
                    <label class="radio-label">
                      <input type="radio" name="borrowerOwnRent" value="own" class="radio-input">
                      Own
                    </label>
                    <label class="radio-label">
                      <input type="radio" name="borrowerOwnRent" value="rent" class="radio-input">
                      Rent
                    </label>
                  </div>
                </div>
                <div class="form-field">
                  <label class="form-label">No. Yrs.</label>
                  <input type="number" name="borrowerYearsAtAddress" class="form-input">
                </div>
              </div>
            </div>
            
            <!-- Co-Borrower Column -->
            <div class="space-y-6">
              <h3 class="text-xl font-semibold text-gray-800 border-b pb-2">Co-Borrower</h3>
              
              <div class="form-field">
                <label class="form-label">Co-Borrower's Name (include Jr. or Sr. if applicable)</label>
                <input type="text" name="coBorrowerName" class="form-input">
              </div>
              
              <div class="form-field">
                <label class="form-label">Home Phone (incl. area code)</label>
                <input type="tel" name="coBorrowerPhone" class="form-input" placeholder="(XXX) XXX-XXXX">
              </div>
              
              <div class="form-field">
                <label class="form-label">Marital Status</label>
                <div class="radio-group">
                  <label class="radio-label">
                    <input type="radio" name="coBorrowerMaritalStatus" value="married" class="radio-input">
                    Married
                  </label>
                  <label class="radio-label">
                    <input type="radio" name="coBorrowerMaritalStatus" value="unmarried" class="radio-input">
                    Unmarried
                  </label>
                  <label class="radio-label">
                    <input type="radio" name="coBorrowerMaritalStatus" value="separated" class="radio-input">
                    Separated
                  </label>
                </div>
              </div>
              
              <div class="grid grid-cols-2 gap-4">
                <div class="form-field">
                  <label class="form-label">Dependents (not listed by Borrower) - No.</label>
                  <input type="number" name="coBorrowerDependents" class="form-input">
                </div>
                <div class="form-field">
                  <label class="form-label">Ages</label>
                  <input type="text" name="coBorrowerDependentAges" class="form-input" placeholder="e.g., 5, 8, 12">
                </div>
              </div>
              
              <div class="form-field">
                <label class="form-label">Present Address (street, city, state, ZIP)</label>
                <textarea name="coBorrowerPresentAddress" class="form-textarea" rows="2"></textarea>
              </div>
              
              <div class="grid grid-cols-2 gap-4">
                <div class="form-field">
                  <label class="form-label">Own/Rent</label>
                  <div class="radio-group">
                    <label class="radio-label">
                      <input type="radio" name="coBorrowerOwnRent" value="own" class="radio-input">
                      Own
                    </label>
                    <label class="radio-label">
                      <input type="radio" name="coBorrowerOwnRent" value="rent" class="radio-input">
                      Rent
                    </label>
                  </div>
                </div>
                <div class="form-field">
                  <label class="form-label">No. Yrs.</label>
                  <input type="number" name="coBorrowerYearsAtAddress" class="form-input">
                </div>
              </div>
            </div>
          </div>
          
          <div class="flex justify-between mt-8">
            <button type="button" class="btn btn-secondary prev-btn" data-prev="property">
              <i data-feather="arrow-left" class="mr-2"></i>
              <span>Previous</span>
            </button>
            <button type="button" class="btn btn-primary next-btn" data-next="employment">
              <span>Next: Employment Information</span>
              <i data-feather="arrow-right" class="ml-2"></i>
            </button>
          </div>
        </section>
        
        <!-- Employment Information Section -->
        <section id="employment-section" class="section">
          <h2 class="text-3xl font-bold text-gray-800 mb-8">Employment Information</h2>
          
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Borrower Column -->
            <div class="space-y-6">
              <h3 class="text-xl font-semibold text-gray-800 border-b pb-2">Borrower</h3>
              
              <div class="form-field">
                <label class="form-label">Name & Address of Employer</label>
                <textarea name="borrowerEmployer" class="form-textarea" rows="3" placeholder="Company Name&#10;Street Address&#10;City, State ZIP"></textarea>
              </div>
              
              <div class="form-field">
                <label class="form-label flex items-center">
                  <input type="checkbox" name="borrowerSelfEmployed" class="mr-2">
                  Self Employed
                </label>
              </div>
              
              <div class="grid grid-cols-2 gap-4">
                <div class="form-field">
                  <label class="form-label">Yrs. on this job</label>
                  <input type="number" name="borrowerYearsJob" class="form-input" placeholder="0.0" step="0.1">
                </div>
                <div class="form-field">
                  <label class="form-label">Yrs. employed in this line of work/profession</label>
                  <input type="number" name="borrowerYearsField" class="form-input" placeholder="0.0" step="0.1">
                </div>
              </div>
              
              <div class="form-field">
                <label class="form-label">Position/Title/Type of Business</label>
                <input type="text" name="borrowerPosition" class="form-input">
              </div>
              
              <div class="form-field">
                <label class="form-label">Business Phone (incl. area code)</label>
                <input type="tel" name="borrowerBusinessPhone" class="form-input" placeholder="(XXX) XXX-XXXX">
              </div>
              
              <div class="border-t pt-4">
                <h4 class="text-lg font-medium text-gray-800 mb-4">Previous Employment (if less than 2 years at current job)</h4>
                
                <div class="form-field">
                  <label class="form-label">Name & Address of Previous Employer</label>
                  <textarea name="borrowerPreviousEmployer" class="form-textarea" rows="3" placeholder="Previous Company Name&#10;Street Address&#10;City, State ZIP"></textarea>
                </div>
                
                <div class="form-field">
                  <label class="form-label">Monthly Income</label>
                  <input type="text" name="borrowerPreviousIncome" class="form-input" placeholder="$0.00">
                </div>
              </div>
            </div>
            
            <!-- Co-Borrower Column -->
            <div class="space-y-6">
              <h3 class="text-xl font-semibold text-gray-800 border-b pb-2">Co-Borrower</h3>
              
              <div class="form-field">
                <label class="form-label">Name & Address of Employer</label>
                <textarea name="coBorrowerEmployer" class="form-textarea" rows="3" placeholder="Company Name&#10;Street Address&#10;City, State ZIP"></textarea>
              </div>
              
              <div class="form-field">
                <label class="form-label flex items-center">
                  <input type="checkbox" name="coBorrowerSelfEmployed" class="mr-2">
                  Self Employed
                </label>
              </div>
              
              <div class="grid grid-cols-2 gap-4">
                <div class="form-field">
                  <label class="form-label">Yrs. on this job</label>
                  <input type="number" name="coBorrowerYearsJob" class="form-input" placeholder="0.0" step="0.1">
                </div>
                <div class="form-field">
                  <label class="form-label">Yrs. employed in this line of work/profession</label>
                  <input type="number" name="coBorrowerYearsField" class="form-input" placeholder="0.0" step="0.1">
                </div>
              </div>
              
              <div class="form-field">
                <label class="form-label">Position/Title/Type of Business</label>
                <input type="text" name="coBorrowerPosition" class="form-input">
              </div>
              
              <div class="form-field">
                <label class="form-label">Business Phone (incl. area code)</label>
                <input type="tel" name="coBorrowerBusinessPhone" class="form-input" placeholder="(XXX) XXX-XXXX">
              </div>
              
              <div class="border-t pt-4">
                <h4 class="text-lg font-medium text-gray-800 mb-4">Previous Employment (if less than 2 years at current job)</h4>
                
                <div class="form-field">
                  <label class="form-label">Name & Address of Previous Employer</label>
                  <textarea name="coBorrowerPreviousEmployer" class="form-textarea" rows="3" placeholder="Previous Company Name&#10;Street Address&#10;City, State ZIP"></textarea>
                </div>
                
                <div class="form-field">
                  <label class="form-label">Monthly Income</label>
                  <input type="text" name="coBorrowerPreviousIncome" class="form-input" placeholder="$0.00">
                </div>
              </div>
            </div>
          </div>
          
          <div class="flex justify-between mt-8">
            <button type="button" class="btn btn-secondary prev-btn" data-prev="borrower">
              <i data-feather="arrow-left" class="mr-2"></i>
              <span>Previous</span>
            </button>
            <button type="button" class="btn btn-primary next-btn" data-next="income">
              <span>Next: Income Information</span>
              <i data-feather="arrow-right" class="ml-2"></i>
            </button>
          </div>
        </section>
        
        <!-- Income Information Section -->
        <section id="income-section" class="section">
          <h2 class="text-3xl font-bold text-gray-800 mb-8">Monthly Income and Combined Housing Expense Information</h2>
          
          <div class="space-y-8">
            <!-- Income Section -->
            <div class="bg-gray-50 p-6 rounded-lg">
              <h3 class="text-xl font-semibold text-gray-800 mb-6">Gross Monthly Income</h3>
              
              <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <div class="font-medium text-gray-700">Income Type</div>
                <div class="font-medium text-gray-700">Borrower</div>
                <div class="font-medium text-gray-700">Co-Borrower</div>
                <div class="font-medium text-gray-700">Total</div>
                
                <!-- Base Employment Income -->
                <div class="text-sm text-gray-600">Base Empl. Income*</div>
                <div>
                  <input type="text" name="borrowerBaseIncome" class="form-input" placeholder="$0.00">
                </div>
                <div>
                  <input type="text" name="coBorrowerBaseIncome" class="form-input" placeholder="$0.00">
                </div>
                <div class="income-total px-3 py-2 bg-gray-100 rounded text-gray-700" data-borrower="borrowerBaseIncome" data-coborrower="coBorrowerBaseIncome">$0.00</div>
                
                <!-- Overtime -->
                <div class="text-sm text-gray-600">Overtime</div>
                <div>
                  <input type="text" name="borrowerOvertime" class="form-input" placeholder="$0.00">
                </div>
                <div>
                  <input type="text" name="coBorrowerOvertime" class="form-input" placeholder="$0.00">
                </div>
                <div class="income-total px-3 py-2 bg-gray-100 rounded text-gray-700" data-borrower="borrowerOvertime" data-coborrower="coBorrowerOvertime">$0.00</div>
                
                <!-- Bonuses -->
                <div class="text-sm text-gray-600">Bonuses</div>
                <div>
                  <input type="text" name="borrowerBonuses" class="form-input" placeholder="$0.00">
                </div>
                <div>
                  <input type="text" name="coBorrowerBonuses" class="form-input" placeholder="$0.00">
                </div>
                <div class="income-total px-3 py-2 bg-gray-100 rounded text-gray-700" data-borrower="borrowerBonuses" data-coborrower="coBorrowerBonuses">$0.00</div>
                
                <!-- Commissions -->
                <div class="text-sm text-gray-600">Commissions</div>
                <div>
                  <input type="text" name="borrowerCommissions" class="form-input" placeholder="$0.00">
                </div>
                <div>
                  <input type="text" name="coBorrowerCommissions" class="form-input" placeholder="$0.00">
                </div>
                <div class="income-total px-3 py-2 bg-gray-100 rounded text-gray-700" data-borrower="borrowerCommissions" data-coborrower="coBorrowerCommissions">$0.00</div>
                
                <!-- Dividends/Interest -->
                <div class="text-sm text-gray-600">Dividends/Interest</div>
                <div>
                  <input type="text" name="borrowerDividends" class="form-input" placeholder="$0.00">
                </div>
                <div>
                  <input type="text" name="coBorrowerDividends" class="form-input" placeholder="$0.00">
                </div>
                <div class="income-total px-3 py-2 bg-gray-100 rounded text-gray-700" data-borrower="borrowerDividends" data-coborrower="coBorrowerDividends">$0.00</div>
                
                <!-- Net Rental Income -->
                <div class="text-sm text-gray-600">Net Rental Income</div>
                <div>
                  <input type="text" name="borrowerRentalIncome" class="form-input" placeholder="$0.00">
                </div>
                <div>
                  <input type="text" name="coBorrowerRentalIncome" class="form-input" placeholder="$0.00">
                </div>
                <div class="income-total px-3 py-2 bg-gray-100 rounded text-gray-700" data-borrower="borrowerRentalIncome" data-coborrower="coBorrowerRentalIncome">$0.00</div>
                
                <!-- Other Income -->
                <div class="text-sm text-gray-600">Other</div>
                <div>
                  <input type="text" name="borrowerOtherIncome" class="form-input" placeholder="$0.00">
                </div>
                <div>
                  <input type="text" name="coBorrowerOtherIncome" class="form-input" placeholder="$0.00">
                </div>
                <div class="income-total px-3 py-2 bg-gray-100 rounded text-gray-700" data-borrower="borrowerOtherIncome" data-coborrower="coBorrowerOtherIncome">$0.00</div>
                
                <!-- Totals -->
                <div class="font-bold text-gray-800 border-t pt-2">Total</div>
                <div id="borrower-total" class="font-bold text-blue-600 border-t pt-2 bg-blue-50 px-3 py-2 rounded">$0.00</div>
                <div id="coborrower-total" class="font-bold text-blue-600 border-t pt-2 bg-blue-50 px-3 py-2 rounded">$0.00</div>
                <div id="income-grand-total" class="font-bold text-blue-600 border-t pt-2 bg-blue-50 px-3 py-2 rounded">$0.00</div>
              </div>
              
              <div class="mt-4 text-xs text-gray-600">
                * Self Employed Borrower(s) may be required to provide additional documentation such as tax returns and financial statements.
              </div>
            </div>
            
            <!-- Housing Expenses Section -->
            <div class="bg-gray-50 p-6 rounded-lg">
              <h3 class="text-xl font-semibold text-gray-800 mb-6">Combined Monthly Housing Expense</h3>
              
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="font-medium text-gray-700">Expense Type</div>
                <div class="font-medium text-gray-700">Present</div>
                <div class="font-medium text-gray-700">Proposed</div>
                
                <div class="text-sm text-gray-600">Rent</div>
                <div>
                  <input type="text" name="currentRent" class="form-input" placeholder="$0.00">
                </div>
                <div class="px-3 py-2 bg-gray-100 rounded text-gray-500">N/A</div>
                
                <div class="text-sm text-gray-600">First Mortgage (P&I)</div>
                <div class="px-3 py-2 bg-gray-100 rounded text-gray-500">N/A</div>
                <div>
                  <input type="text" name="proposedMortgage" class="form-input" placeholder="$0.00">
                </div>
                
                <div class="text-sm text-gray-600">Other Financing (P&I)</div>
                <div class="px-3 py-2 bg-gray-100 rounded text-gray-500">N/A</div>
                <div>
                  <input type="text" name="otherFinancing" class="form-input" placeholder="$0.00">
                </div>
                
                <div class="text-sm text-gray-600">Hazard Insurance</div>
                <div class="px-3 py-2 bg-gray-100 rounded text-gray-500">N/A</div>
                <div>
                  <input type="text" name="hazardInsurance" class="form-input" placeholder="$0.00">
                </div>
                
                <div class="text-sm text-gray-600">Real Estate Taxes</div>
                <div class="px-3 py-2 bg-gray-100 rounded text-gray-500">N/A</div>
                <div>
                  <input type="text" name="realEstateTaxes" class="form-input" placeholder="$0.00">
                </div>
                
                <div class="text-sm text-gray-600">Mortgage Insurance</div>
                <div class="px-3 py-2 bg-gray-100 rounded text-gray-500">N/A</div>
                <div>
                  <input type="text" name="mortgageInsurance" class="form-input" placeholder="$0.00">
                </div>
                
                <div class="text-sm text-gray-600">Homeowner Assn. Dues</div>
                <div class="px-3 py-2 bg-gray-100 rounded text-gray-500">N/A</div>
                <div>
                  <input type="text" name="hoaDues" class="form-input" placeholder="$0.00">
                </div>
                
                <div class="text-sm text-gray-600">Other</div>
                <div class="px-3 py-2 bg-gray-100 rounded text-gray-500">N/A</div>
                <div>
                  <input type="text" name="otherExpenses" class="form-input" placeholder="$0.00">
                </div>
                
                <div class="font-bold text-gray-800 border-t pt-2">Total</div>
                <div id="present-housing-total" class="font-bold text-blue-600 border-t pt-2 bg-blue-50 px-3 py-2 rounded">$0.00</div>
                <div id="proposed-housing-total" class="font-bold text-blue-600 border-t pt-2 bg-blue-50 px-3 py-2 rounded">$0.00</div>
              </div>
            </div>
          </div>
          
          <div class="flex justify-between mt-8">
            <button type="button" class="btn btn-secondary prev-btn" data-prev="employment">
              <i data-feather="arrow-left" class="mr-2"></i>
              <span>Previous</span>
            </button>
            <button type="button" class="btn btn-primary next-btn" data-next="assets">
              <span>Next: Assets & Liabilities</span>
              <i data-feather="arrow-right" class="ml-2"></i>
            </button>
          </div>
        </section>
        
        <!-- Assets & Liabilities Section -->
        <section id="assets-section" class="section">
          <h2 class="text-3xl font-bold text-gray-800 mb-8">Assets and Liabilities</h2>
          
          <div class="space-y-6">
            <p class="text-gray-700">
              This is the final step of your construction loan application. Please review all the information you've entered before submitting.
            </p>
            
            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
              <div class="flex">
                <div class="flex-shrink-0">
                  <i data-feather="alert-triangle" class="h-5 w-5 text-yellow-400"></i>
                </div>
                <div class="ml-3">
                  <p class="text-sm text-yellow-700">
                    By submitting this application, you certify that the information provided is true and correct to the best of your knowledge.
                  </p>
                </div>
              </div>
            </div>
            
            <div id="submission-status" class="hidden mt-4 text-center p-3 rounded-lg"></div>
          </div>
          
          <div class="flex justify-between mt-8">
            <button type="button" class="btn btn-secondary prev-btn" data-prev="income">
              <i data-feather="arrow-left" class="mr-2"></i>
              <span>Previous</span>
            </button>
            <button type="button" id="submit-application" class="btn btn-success">
              <i data-feather="check" class="mr-2"></i>
              <span>Submit Application</span>
            </button>
          </div>
        </section>
      </form>
    </div>
  </div>

  <script>
    // Initialize Feather icons
    document.addEventListener('DOMContentLoaded', function() {
      feather.replace();
      
      // Navigation between sections
      const navItems = document.querySelectorAll('.nav-item');
      const sections = document.querySelectorAll('.section');
      const nextButtons = document.querySelectorAll('.next-btn');
      const prevButtons = document.querySelectorAll('.prev-btn');
      
      // Handle navigation item clicks
      navItems.forEach(item => {
        item.addEventListener('click', () => {
          const sectionId = item.getAttribute('data-section');
          showSection(sectionId);
        });
      });
      
      // Handle next buttons
      nextButtons.forEach(button => {
        button.addEventListener('click', () => {
          const nextSection = button.getAttribute('data-next');
          showSection(nextSection);
        });
      });
      
      // Handle previous buttons
      prevButtons.forEach(button => {
        button.addEventListener('click', () => {
          const prevSection = button.getAttribute('data-prev');
          showSection(prevSection);
        });
      });
      
      // Show a specific section
      function showSection(sectionId) {
        // Update navigation
        navItems.forEach(item => {
          if (item.getAttribute('data-section') === sectionId) {
            item.classList.add('active');
          } else {
            item.classList.remove('active');
          }
        });
        
        // Show the selected section
        sections.forEach(section => {
          if (section.id === sectionId + '-section') {
            section.classList.add('active');
          } else {
            section.classList.remove('active');
          }
        });
        
        // Scroll to top of form
        window.scrollTo({
          top: document.querySelector('.bg-white.rounded-xl.shadow-lg.p-8').offsetTop - 20,
          behavior: 'smooth'
        });
      }
      
      // Property calculations
      const presentValueLot = document.querySelector('input[name="presentValueLot"]');
      const costOfImprovements = document.querySelector('input[name="costOfImprovements"]');
      const propertyTotalValue = document.getElementById('propertyTotalValue');
      
      function updatePropertyTotal() {
        const presentValue = parseFloat((presentValueLot.value || '0').replace(/[$,]/g, '')) || 0;
        const improvements = parseFloat((costOfImprovements.value || '0').replace(/[$,]/g, '')) || 0;
        const total = presentValue + improvements;
        propertyTotalValue.textContent = formatCurrency(total);
      }
      
      if (presentValueLot && costOfImprovements) {
        presentValueLot.addEventListener('input', updatePropertyTotal);
        costOfImprovements.addEventListener('input', updatePropertyTotal);
      }
      
      // Income calculations
      const incomeFields = document.querySelectorAll('input[name^="borrower"], input[name^="coBorrower"]');
      const incomeTotals = document.querySelectorAll('.income-total');
      const borrowerTotal = document.getElementById('borrower-total');
      const coBorrowerTotal = document.getElementById('coborrower-total');
      const incomeGrandTotal = document.getElementById('income-grand-total');
      
      function updateIncomeTotals() {
        // Update individual row totals
        incomeTotals.forEach(totalElement => {
          const borrowerField = totalElement.getAttribute('data-borrower');
          const coBorrowerField = totalElement.getAttribute('data-coborrower');
          
          if (borrowerField && coBorrowerField) {
            const borrowerValue = parseFloat((document.querySelector(`input[name="${borrowerField}"]`).value || '0').replace(/[$,]/g, '')) || 0;
            const coBorrowerValue = parseFloat((document.querySelector(`input[name="${coBorrowerField}"]`).value || '0').replace(/[$,]/g, '')) || 0;
            totalElement.textContent = formatCurrency(borrowerValue + coBorrowerValue);
          }
        });
        
        // Calculate borrower total
        let borrowerSum = 0;
        document.querySelectorAll('input[name^="borrower"][name$="Income"], input[name="borrowerOvertime"], input[name="borrowerBonuses"], input[name="borrowerCommissions"], input[name="borrowerDividends"], input[name="borrowerRentalIncome"]').forEach(input => {
          borrowerSum += parseFloat((input.value || '0').replace(/[$,]/g, '')) || 0;
        });
        borrowerTotal.textContent = formatCurrency(borrowerSum);
        
        // Calculate co-borrower total
        let coBorrowerSum = 0;
        document.querySelectorAll('input[name^="coBorrower"][name$="Income"], input[name="coBorrowerOvertime"], input[name="coBorrowerBonuses"], input[name="coBorrowerCommissions"], input[name="coBorrowerDividends"], input[name="coBorrowerRentalIncome"]').forEach(input => {
          coBorrowerSum += parseFloat((input.value || '0').replace(/[$,]/g, '')) || 0;
        });
        coBorrowerTotal.textContent = formatCurrency(coBorrowerSum);
        
        // Calculate grand total
        incomeGrandTotal.textContent = formatCurrency(borrowerSum + coBorrowerSum);
      }
      
      // Housing expense calculations
      const currentRent = document.querySelector('input[name="currentRent"]');
      const housingExpenseFields = document.querySelectorAll('input[name="proposedMortgage"], input[name="otherFinancing"], input[name="hazardInsurance"], input[name="realEstateTaxes"], input[name="mortgageInsurance"], input[name="hoaDues"], input[name="otherExpenses"]');
      const presentHousingTotal = document.getElementById('present-housing-total');
      const proposedHousingTotal = document.getElementById('proposed-housing-total');
      
      function updateHousingTotals() {
        // Present total
        const rent = parseFloat((currentRent.value || '0').replace(/[$,]/g, '')) || 0;
        presentHousingTotal.textContent = formatCurrency(rent);
        
        // Proposed total
        let proposedSum = 0;
        housingExpenseFields.forEach(input => {
          proposedSum += parseFloat((input.value || '0').replace(/[$,]/g, '')) || 0;
        });
        proposedHousingTotal.textContent = formatCurrency(proposedSum);
      }
      
      // Add input event listeners to all income fields
      incomeFields.forEach(field => {
        field.addEventListener('input', updateIncomeTotals);
      });
      
      // Add input event listeners to housing expense fields
      if (currentRent) {
        currentRent.addEventListener('input', updateHousingTotals);
      }
      
      housingExpenseFields.forEach(field => {
        field.addEventListener('input', updateHousingTotals);
      });
      
      // Form submission
      const form = document.getElementById('constructionLoanForm');
      const submitBtn = document.getElementById('submit-application');
      const submissionStatus = document.getElementById('submission-status');
      
      submitBtn.addEventListener('click', async function(e) {
        e.preventDefault();
        
        // Change button state to loading
        const originalBtnText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<i data-feather="loader" class="mr-2 animate-spin"></i><span>Submitting...</span>';
        submitBtn.disabled = true;
        feather.replace();
        
        // Show status message
        submissionStatus.textContent = 'Submitting application...';
        submissionStatus.className = 'mt-4 text-center p-3 rounded-lg bg-blue-100 text-blue-700';
        submissionStatus.classList.remove('hidden');
        
        // Collect form data
        const formData = new FormData(form);
        const formDataObj = {};
        
        for (const [key, value] of formData.entries()) {
          formDataObj[key] = value;
        }
        
        try {
          // Send data to email
          const response = await fetch('https://api.web3forms.com/submit', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json'
            },
            body: JSON.stringify({
              access_key: 'YOUR-ACCESS-KEY', // Replace with your Web3Forms access key
              from_name: formDataObj.borrowerName || 'Construction Loan Applicant',
              to_email: 'rgomez@jumboconstructionloans.com',
              subject: 'New Construction Loan Application',
              message: JSON.stringify(formDataObj, null, 2),
              form_data: formDataObj
            })
          });
          
          if (response.ok) {
            submissionStatus.textContent = 'Application submitted successfully! We will contact you shortly.';
            submissionStatus.className = 'mt-4 text-center p-3 rounded-lg bg-green-100 text-green-700';
          } else {
            throw new Error('Failed to submit form');
          }
        } catch (error) {
          console.error('Submission error:', error);
          submissionStatus.textContent = 'Failed to submit application. Please try again or contact us directly.';
          submissionStatus.className = 'mt-4 text-center p-3 rounded-lg bg-red-100 text-red-700';
        } finally {
          // Reset button state
          submitBtn.innerHTML = originalBtnText;
          submitBtn.disabled = false;
          feather.replace();
        }
      });
      
      // Helper function to format currency
      function formatCurrency(amount) {
        return new Intl.NumberFormat('en-US', {
          style: 'currency',
          currency: 'USD'
        }).format(amount);
      }
      
      // Initialize calculations on page load
      updatePropertyTotal();
      updateIncomeTotals();
      updateHousingTotals();
    });
  </script>
</body>
</html>